<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>æ—¥å†ğŸ“…</title>
	<style>
		ul,ol,li{
			margin:0;
			padding: 0;
			list-style: none;
		}
		body{
			background: #000;
		}
		.container{
			width: 420px;
			color: olive;
		}
		.container li{
			width: 48px;
			float: left;
			border:1px solid #ccc;
			border-radius: 10px;
			font-size: 16px;
		}
		.week li{
			text-align: center;
			height: 25px;
			line-height: 25px;
			padding: 2px;
			background: green;
			color: white;
		}
		.wrap li{
			width:48px;
			float: left;
			height:48px;
			text-align: center;
			line-height: 48px;
			margin:2px;
			cursor: pointer;
		}

		.box{
			position: absolute;
			top: 360px;
		}
		button{
			padding: 10px;
			font-size:20px;
			color: olive;
		}
		.show{
			position: absolute;
			left: 500px;
			top: 100px;
			color: gold;
			font-size: 80px;
		}
	</style>
</head>
<body>
	<div class="container">
		<ul class="week">
			<li>æ˜ŸæœŸæ—¥</li>
			<li>æ˜ŸæœŸä¸€</li>
			<li>æ˜ŸæœŸäºŒ</li>
			<li>æ˜ŸæœŸä¸‰</li>
			<li>æ˜ŸæœŸå››</li>
			<li>æ˜ŸæœŸäº”</li>
			<li>æ˜ŸæœŸå…­</li>
		</ul>
		<ul class="wrap">
			<li>12</li>
		</ul>
	</div>
	
	<div class="box">
		<button class="preY">ä¸Šä¸€å¹´</button>
		<button class="nextY">ä¸‹ä¸€å¹´</button>
		<button class="preM">ä¸Šä¸ªæœˆ</button>
		<button class="nextM">ä¸‹ä¸ªæœˆ</button>
	</div>

	<div class="show">12</div>

	<script>
		var wrap =document.querySelector('.wrap');
		var preM =document.querySelector('.preM');
		var preY =document.querySelector('.preY');
		var nextM =document.querySelector('.nextM');
		var nextY =document.querySelector('.nextY');
		var show =document.querySelector('.show');

		var _Date = new Date();
		//æ˜¾ç¤ºçš„å¹´æœˆ
		var show_year = _Date.getFullYear();
		var show_month = _Date.getMonth();

		//å½“å‰çš„å¹´æœˆæ—¥
		var now_year = _Date.getFullYear();
		var now_month = _Date.getMonth();
		var date = _Date.getDate();
		var inner =date;
		
		setDate();
		preY.onclick=function(){
			show_year--;
			setDate();
		}
		nextY.onclick=function(){
			show_year++;
			setDate();
		}
		preM.onclick=function(){
			show_month--;
			if (show_month<0) {
				show_month=11;
				show_year--;
			}
			setDate();
		}
		nextM.onclick=function(){
			show_month++;
			if (show_month>0) {
				show_month=0;
				show_year++;
			}
			setDate();
		}

		function setDate(){
			wrap.innerHTML='';  //æ¸…ç©ºåˆ—è¡¨
			
			var today = new Date(show_year,show_month,1); //è·å–æœ¬å¹´æœ¬æœˆç¬¬ä¸€å¤©
			var num = today.getDay(); //è·å–æœ¬æœˆç¬¬ä¸€å¤©æ˜¯å‘¨å‡ 
			for(var i=0; i<num ; i++){
				wrap.appendChild(document.createElement('li')) //æœ¬æœˆç¬¬ä¸€å¤©ä¹‹å‰æ·»åŠ ç©ºç™½æ ‡ç­¾
			}

			//æœ¬æœˆæœ€åä¸€å¤©é€šè¿‡ä¸‹ä¸ªæœˆç¬¬0å¤©å¯ä»¥è·å–åˆ°
			var last_date = new Date(show_year,show_month+1,0).getDate();

			//å¾ªç¯æ·»åŠ æœ¬æœˆçš„æ—¥æœŸåˆ—è¡¨ï¼Œå¹¶å°†ç°åœ¨çš„å½“å¤©è®¾ç½®èƒŒæ™¯é¢œè‰²
			for(var i=0; i<last_date; i++){
				var li = document.createElement('li');
				li.innerHTML = i+1;
				
				//å¦‚æœæ˜¾ç¤ºçš„å¹´æœˆç­‰äºå½“å‰çš„å¹´æœˆï¼Œä¸”å½“å‰æ—¥æœŸç­‰äºå¾ªç¯çš„æ·»åŠ çš„li,æ”¹ä¸ºé€‰ä¸­çŠ¶æ€
				if( date == i+1 && show_year ==now_year && show_month == now_month){
					li.style.background='red';
					li.style.color='white';
				}
				wrap.appendChild(li);	
			}

			//è®¾ç½®æ¯ä¸ªliå¯ä»¥ç‚¹å‡»
			var li = wrap.getElementsByTagName('li');
			var length =li.length;
			for(var i=0; i<length; i++){
				li.index =i;
				li[i].onclick=function(){
					if(this.innerHTML){
						for(var j=0; j<length; j++){
							li[j].style.background='';
							li[j].style.color='';
						}
						this.style.background='red';
						this.style.color='white';
						inner=this.innerHTML;
						show.innerHTML=`${show_year}å¹´${show_month}æœˆ${inner}æ—¥`;
					}
				}
			}
			//è®¾ç½®æ˜¾ç¤ºæ—¶é—´
			show.innerHTML=`${show_year}å¹´${show_month}æœˆ${inner}æ—¥`;	
		}

		
		
	</script>
</body>
</html>